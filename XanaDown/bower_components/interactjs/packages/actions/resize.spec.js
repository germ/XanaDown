import test from '@interactjs/_dev/test/test';
import * as helpers from '@interactjs/core/tests/_helpers';
import pointerUtils from '@interactjs/utils/pointerUtils';
import resize from './resize';
test('resize', (t) => {
    const scope = helpers.mockScope();
    scope.usePlugin(resize);
    t.ok(scope.actions.names.includes('resize'), '"resize" in actions.names');
    t.equal(scope.actions.methodDict.resize, 'resizable');
    t.equal(typeof scope.Interactable.prototype.resizable, 'function', 'Interactable.resizable method is added');
    const page = { x: 0, y: 0 };
    const event = pointerUtils.coordsToEvent({ page, client: page });
    const interactable = scope.interactables.new('test', {})
        .resizable({
        edges: { left: true, top: true, right: true, bottom: true },
        // use margin greater than width and height
        margin: Infinity,
    });
    const interaction = scope.interactions.new({});
    const rect = { left: 0, top: 0, right: 10, bottom: 10 };
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: true, top: true, right: false, bottom: false },
    });
    page.x = 10;
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: false, top: true, right: true, bottom: false },
    });
    page.y = 10;
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: false, top: false, right: true, bottom: true },
    });
    t.end();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzaXplLnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZXNpemUuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLElBQUksTUFBTSw0QkFBNEIsQ0FBQTtBQUM3QyxPQUFPLEtBQUssT0FBTyxNQUFNLGlDQUFpQyxDQUFBO0FBQzFELE9BQU8sWUFBWSxNQUFNLGdDQUFnQyxDQUFBO0FBQ3pELE9BQU8sTUFBTSxNQUFNLFVBQVUsQ0FBQTtBQUU3QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDbkIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFBO0lBRWpDLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7SUFFdkIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsMkJBQTJCLENBQUMsQ0FBQTtJQUN6RSxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQTtJQUNyRCxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sS0FBSyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSx3Q0FBd0MsQ0FBQyxDQUFBO0lBRTVHLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUE7SUFDM0IsTUFBTSxLQUFLLEdBQUcsWUFBWSxDQUFDLGFBQWEsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtJQUNoRSxNQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1NBQ3JELFNBQVMsQ0FBQztRQUNULEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7UUFDM0QsMkNBQTJDO1FBQzNDLE1BQU0sRUFBRSxRQUFRO0tBQ2pCLENBQUMsQ0FBQTtJQUNKLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFBO0lBQzlDLE1BQU0sSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBRXZELFdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFFakQsQ0FBQyxDQUFDLFNBQVMsQ0FDVCxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsRUFDL0U7UUFDRSxJQUFJLEVBQUUsUUFBUTtRQUNkLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7S0FDOUQsQ0FDRixDQUFBO0lBRUQsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUE7SUFDWCxXQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFBO0lBRWpELENBQUMsQ0FBQyxTQUFTLENBQ1QsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQy9FO1FBQ0UsSUFBSSxFQUFFLFFBQVE7UUFDZCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0tBQzlELENBQ0YsQ0FBQTtJQUVELElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFBO0lBQ1gsV0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUVqRCxDQUFDLENBQUMsU0FBUyxDQUNULEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUMvRTtRQUNFLElBQUksRUFBRSxRQUFRO1FBQ2QsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtLQUM5RCxDQUNGLENBQUE7SUFFRCxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUE7QUFDVCxDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0ZXN0IGZyb20gJ0BpbnRlcmFjdGpzL19kZXYvdGVzdC90ZXN0J1xuaW1wb3J0ICogYXMgaGVscGVycyBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Rlc3RzL19oZWxwZXJzJ1xuaW1wb3J0IHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5pbXBvcnQgcmVzaXplIGZyb20gJy4vcmVzaXplJ1xuXG50ZXN0KCdyZXNpemUnLCAodCkgPT4ge1xuICBjb25zdCBzY29wZSA9IGhlbHBlcnMubW9ja1Njb3BlKClcblxuICBzY29wZS51c2VQbHVnaW4ocmVzaXplKVxuXG4gIHQub2soc2NvcGUuYWN0aW9ucy5uYW1lcy5pbmNsdWRlcygncmVzaXplJyksICdcInJlc2l6ZVwiIGluIGFjdGlvbnMubmFtZXMnKVxuICB0LmVxdWFsKHNjb3BlLmFjdGlvbnMubWV0aG9kRGljdC5yZXNpemUsICdyZXNpemFibGUnKVxuICB0LmVxdWFsKHR5cGVvZiBzY29wZS5JbnRlcmFjdGFibGUucHJvdG90eXBlLnJlc2l6YWJsZSwgJ2Z1bmN0aW9uJywgJ0ludGVyYWN0YWJsZS5yZXNpemFibGUgbWV0aG9kIGlzIGFkZGVkJylcblxuICBjb25zdCBwYWdlID0geyB4OiAwLCB5OiAwIH1cbiAgY29uc3QgZXZlbnQgPSBwb2ludGVyVXRpbHMuY29vcmRzVG9FdmVudCh7IHBhZ2UsIGNsaWVudDogcGFnZSB9KVxuICBjb25zdCBpbnRlcmFjdGFibGUgPSBzY29wZS5pbnRlcmFjdGFibGVzLm5ldygndGVzdCcsIHt9KVxuICAgIC5yZXNpemFibGUoe1xuICAgICAgZWRnZXM6IHsgbGVmdDogdHJ1ZSwgdG9wOiB0cnVlLCByaWdodDogdHJ1ZSwgYm90dG9tOiB0cnVlIH0sXG4gICAgICAvLyB1c2UgbWFyZ2luIGdyZWF0ZXIgdGhhbiB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICBtYXJnaW46IEluZmluaXR5LFxuICAgIH0pXG4gIGNvbnN0IGludGVyYWN0aW9uID0gc2NvcGUuaW50ZXJhY3Rpb25zLm5ldyh7fSlcbiAgY29uc3QgcmVjdCA9IHsgbGVmdDogMCwgdG9wOiAwLCByaWdodDogMTAsIGJvdHRvbTogMTAgfVxuXG4gIGludGVyYWN0aW9uLnVwZGF0ZVBvaW50ZXIoZXZlbnQsIGV2ZW50LCB7fSwgdHJ1ZSlcblxuICB0LmRlZXBFcXVhbChcbiAgICBzY29wZS5hY3Rpb25zLnJlc2l6ZS5jaGVja2VyKGV2ZW50LCBldmVudCwgaW50ZXJhY3RhYmxlLCB7fSwgaW50ZXJhY3Rpb24sIHJlY3QpLFxuICAgIHtcbiAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgZWRnZXM6IHsgbGVmdDogdHJ1ZSwgdG9wOiB0cnVlLCByaWdodDogZmFsc2UsIGJvdHRvbTogZmFsc2UgfSxcbiAgICB9LFxuICApXG5cbiAgcGFnZS54ID0gMTBcbiAgaW50ZXJhY3Rpb24udXBkYXRlUG9pbnRlcihldmVudCwgZXZlbnQsIHt9LCB0cnVlKVxuXG4gIHQuZGVlcEVxdWFsKFxuICAgIHNjb3BlLmFjdGlvbnMucmVzaXplLmNoZWNrZXIoZXZlbnQsIGV2ZW50LCBpbnRlcmFjdGFibGUsIHt9LCBpbnRlcmFjdGlvbiwgcmVjdCksXG4gICAge1xuICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICBlZGdlczogeyBsZWZ0OiBmYWxzZSwgdG9wOiB0cnVlLCByaWdodDogdHJ1ZSwgYm90dG9tOiBmYWxzZSB9LFxuICAgIH0sXG4gIClcblxuICBwYWdlLnkgPSAxMFxuICBpbnRlcmFjdGlvbi51cGRhdGVQb2ludGVyKGV2ZW50LCBldmVudCwge30sIHRydWUpXG5cbiAgdC5kZWVwRXF1YWwoXG4gICAgc2NvcGUuYWN0aW9ucy5yZXNpemUuY2hlY2tlcihldmVudCwgZXZlbnQsIGludGVyYWN0YWJsZSwge30sIGludGVyYWN0aW9uLCByZWN0KSxcbiAgICB7XG4gICAgICBuYW1lOiAncmVzaXplJyxcbiAgICAgIGVkZ2VzOiB7IGxlZnQ6IGZhbHNlLCB0b3A6IGZhbHNlLCByaWdodDogdHJ1ZSwgYm90dG9tOiB0cnVlIH0sXG4gICAgfSxcbiAgKVxuXG4gIHQuZW5kKClcbn0pXG4iXX0=