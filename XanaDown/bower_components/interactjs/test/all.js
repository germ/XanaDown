// tslint:disable no-var-requires
require('../packages/types/index');
const glob = require('glob');
const path = require('path');
const globOptions = { ignore: ['**/node_modules/**', '**/_*'] };
const [, , ...fileArgs] = process.argv;
function getMatches(pattern) {
    return new Promise((resolve, reject) => {
        glob(pattern, globOptions, (error, files) => {
            if (error) {
                reject(error);
            }
            else {
                resolve(files);
            }
        });
    });
}
(fileArgs.length ? Promise.resolve(fileArgs.filter((f) => f !== '--')) : getMatches('**/*.spec.ts')).then((tests) => {
    for (const file of tests) {
        require(path.resolve(file));
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYWxsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQztBQUNqQyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQTtBQUVsQyxNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDNUIsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBRTVCLE1BQU0sV0FBVyxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsb0JBQW9CLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQTtBQUUvRCxNQUFNLENBQUMsRUFBRSxBQUFELEVBQUcsR0FBRyxRQUFRLENBQUMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFBO0FBRXRDLFNBQVMsVUFBVSxDQUFFLE9BQU87SUFDMUIsT0FBTyxJQUFJLE9BQU8sQ0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtRQUMvQyxJQUFJLENBQ0YsT0FBTyxFQUNQLFdBQVcsRUFDWCxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUNmLElBQUksS0FBSyxFQUFFO2dCQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQTthQUFFO2lCQUN2QjtnQkFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUE7YUFBRTtRQUN6QixDQUFDLENBQ0YsQ0FBQTtJQUNILENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQztBQUVELENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDbEgsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUU7UUFDeEIsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtLQUM1QjtBQUNILENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gdHNsaW50OmRpc2FibGUgbm8tdmFyLXJlcXVpcmVzXG5yZXF1aXJlKCcuLi9wYWNrYWdlcy90eXBlcy9pbmRleCcpXG5cbmNvbnN0IGdsb2IgPSByZXF1aXJlKCdnbG9iJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcblxuY29uc3QgZ2xvYk9wdGlvbnMgPSB7IGlnbm9yZTogWycqKi9ub2RlX21vZHVsZXMvKionLCAnKiovXyonXSB9XG5cbmNvbnN0IFssICwgLi4uZmlsZUFyZ3NdID0gcHJvY2Vzcy5hcmd2XG5cbmZ1bmN0aW9uIGdldE1hdGNoZXMgKHBhdHRlcm4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZ1tdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZ2xvYihcbiAgICAgIHBhdHRlcm4sXG4gICAgICBnbG9iT3B0aW9ucyxcbiAgICAgIChlcnJvciwgZmlsZXMpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7IHJlamVjdChlcnJvcikgfVxuICAgICAgICBlbHNlIHsgcmVzb2x2ZShmaWxlcykgfVxuICAgICAgfVxuICAgIClcbiAgfSlcbn1cblxuKGZpbGVBcmdzLmxlbmd0aCA/IFByb21pc2UucmVzb2x2ZShmaWxlQXJncy5maWx0ZXIoKGYpID0+IGYgIT09ICctLScpKSA6IGdldE1hdGNoZXMoJyoqLyouc3BlYy50cycpKS50aGVuKCh0ZXN0cykgPT4ge1xuICBmb3IgKGNvbnN0IGZpbGUgb2YgdGVzdHMpIHtcbiAgICByZXF1aXJlKHBhdGgucmVzb2x2ZShmaWxlKSlcbiAgfVxufSlcbiJdfQ==